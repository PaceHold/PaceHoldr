<!doctype html>
<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Rider â€” PaceHold</title>
<link rel="stylesheet" href="style.css"></head>
<body>
  <main class="centered">
    <div class="brand-card">
      <h2>Rider</h2>
      <p class="muted">Open your Task Manager.</p>
      <div style="margin-top:12px">
        <button class="primary" onclick="openDash()">Open Dashboard</button>
      </div>
    </div>
  </main>

<script>
  async function openDash(){
    if(!firebase.auth().currentUser) return window.location.href='index.html';
    const uid = firebase.auth().currentUser.uid;
    const u = (await firebase.firestore().collection('users').doc(uid).get()).data();
    if(!u || u.role !== 'rider') return alert('This page is for riders only');
    window.location.href = 'dashboard.html';
  }
  setTimeout(()=>{ if(firebase && firebase.auth) { const user = firebase.auth().currentUser; if(!user) window.location.href='index.html'; } },600);
</script>
</body></html>
